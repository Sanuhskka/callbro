# Coturn TURN/STUN Server Configuration

# Listening IP address
listening-ip=0.0.0.0

# External IP address (set via environment variable)
# external-ip will be set at runtime

# Listening port for STUN/TURN
listening-port=3478

# TLS listening port
tls-listening-port=5349

# Relay ports range
min-port=49152
max-port=65535

# Enable verbose logging
verbose

# Use fingerprints in TURN messages
fingerprint

# Use long-term credentials mechanism
lt-cred-mech

# Realm for authentication
realm=secure-p2p-messenger

# User credentials (username:password)
# These should be set via environment variables in production
user=test:test

# SSL/TLS certificates (uncomment and set paths in production)
# cert=/etc/coturn/certs/cert.pem
# pkey=/etc/coturn/certs/key.pem

# Disable UDP relay endpoints
# no-udp-relay

# Disable TCP relay endpoints
# no-tcp-relay

# Enable STUN
# STUN is enabled by default

# Mobility with ICE
mobility

# Disable multicast peers
no-multicast-peers

# Disable loopback peers
no-loopback-peers

# Server name
server-name=coturn

# Log file (stdout for Docker)
log-file=stdout

# Disable CLI
no-cli

# Enable prometheus metrics (optional)
# prometheus

# Database for long-term credentials (optional)
# userdb=/var/lib/coturn/turndb
